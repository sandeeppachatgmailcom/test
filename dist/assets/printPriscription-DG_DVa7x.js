import{u as ts,a as as,i as ds,r as o,c as ns,j as s,T as xs,aq as is,U as cs,ap as rs}from"./index-Bp26y0Cv.js";function ms(){var N,f,u,y,p,v,w,k,B,I,A,P,F,O,$,T,E,L,M,R,G,U,_,q,z,H,Q,V,Y;const Z=ts(),h=as(),b=ds();b.state.showMedicalHistory;const x=b.state,[m,J]=o.useState(!1),K=ns(l=>{var n;return(n=l==null?void 0:l.currentPatientSlice)==null?void 0:n.patientDetail}),[e,W]=o.useState({}),j=cs();j("edit");const X=j("print"),D=j("close"),[t,C]=o.useState({}),[d,S]=o.useState(),[a,ss]=o.useState(),g=o.useRef();o.useEffect(()=>{console.log(x,"incominDataincominDataincominDataincominDataincominData"),ss(x==null?void 0:x.branch),S(x==null?void 0:x.patientData),W(x==null?void 0:x.activeCaseSheet),C(x==null?void 0:x.prescription)},[x]);const es=()=>{Object.keys(K).length?h("/patientDetail/prescription"):h("/prescription")},ls=()=>{rs(g,{filename:"case_detail.pdf",pageSize:"A4",margin:{top:20,bottom:40,left:20,right:20}})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:" md:container md:mx-auto px-5 md:px-8  pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg ",children:[s.jsxs("div",{className:"  flex w-full justify-between  ",children:[s.jsx("div",{className:" p-2     flex  gap-4  justify-end items-end   ",children:s.jsxs("button",{onClick:()=>es(),className:"  text-xl flex justify-center items-center text-red-500 bg-red-500 bg-opacity-15 min-w-24 rounded-md   min-h-10  bottom-0 end-0 ",children:[s.jsx(D,{className:" "}),"  ",s.jsx("h1",{className:"text-sm",children:"Back"})]})}),s.jsxs("div",{className:"  p-2     flex  gap-4  justify-center items-center   ",children:[s.jsx("div",{className:"flex items-center justify-center   ",children:s.jsxs("label",{className:" h-full  mx-5 flex gap-3 cursor-pointer",children:[s.jsxs("div",{className:"relative  ",children:[s.jsx("input",{className:" sr-only ",name:"upperPosterior",type:"checkbox",checked:m,onChange:()=>J(!m)}),s.jsx("div",{className:` w-12 h-6 rounded-full ${m?"bg-lightBtntext":"bg-gray-300"}`}),s.jsx("div",{className:`absolute left-1 top-1 w-4 h-4 rounded-full bg-white transition ${m?"translate-x-6":""}`})]}),s.jsx("span",{className:`mb-1 ${Z?"text-white":"text-black"}`,children:"Include Case Details"})]})}),s.jsxs("button",{onClick:()=>ls(),className:"text-xl flex gap-4  justify-center items-center gap-53  min-w-24 rounded-md border-gray-500 border-opacity-55 min-h-10  bottom-0 end-0 text-gray-500 bg-gray-500 bg-opacity-20 ",children:[s.jsx(X,{className:"w-5 h-5 "})," ",s.jsx("h1",{className:"text-sm",children:"Print  "})]})]})]}),s.jsx("div",{ref:g,className:"w-full h-full p-5",children:s.jsxs("div",{className:"  m-5 p-5 dark:border-darkSecondary   rounded-lg md:mx-auto px-0 md:px-8 h-auto",children:[s.jsxs("div",{className:"flex flex-wrap justify-between w-[100%] ",children:[s.jsxs("div",{className:"px-3 md:px-0",children:[s.jsxs("div",{className:"mb-10",children:[s.jsxs("div",{className:"font-semibold text-gray-700 text-sm",children:["Prescription No:"," ",s.jsx("span",{className:"text-lightBtntext text-base",children:((f=(N=t==null?void 0:t.displayId)==null?void 0:N.split("-"))==null?void 0:f.slice(2).join("-"))||""})]}),e!=null&&e._id?s.jsxs("div",{className:"  font-semibold text-gray-700 text-sm",children:["Case ID: ",s.jsx("span",{className:"text-lightBtntext text-base",children:((y=(u=e==null?void 0:e.displayId)==null?void 0:u.split("-"))==null?void 0:y.slice(2).join("-"))||""})]}):""]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"font-bold text-lightBtntext text-lg ",children:((p=t==null?void 0:t.doctorId)==null?void 0:p.firstName)||" "+((v=t==null?void 0:t.doctorId)==null?void 0:v.lastName)||""}),s.jsx("div",{className:"font-semibold text-gray-700 text-sm ",children:(w=t==null?void 0:t.doctorId)==null?void 0:w.Qualification})]}),s.jsx("div",{className:"mb-2",children:s.jsx("div",{className:"font-bold text-lightBtntext ",children:(B=(k=t==null?void 0:t.doctorId)==null?void 0:k.role)==null?void 0:B.name})})]}),s.jsxs("div",{className:"px-3 md:px-0",children:[s.jsxs("div",{className:"mb-4 flex justify-end ",children:[console.log(a,"branch?.branchLogo branch?.branchLogo "),s.jsx("img",{className:"h-12 lg:h-14 ",alt:"Logo",src:`http://localhost:8089/branch/${a==null?void 0:a.branchLogo}`||logo})]}),s.jsxs("div",{className:"text-right flex flex-col space-y-2",children:[s.jsxs("div",{children:[s.jsx("strong",{className:"font-semibold text-gray-700 text-base ",children:"Address:"})," ",s.jsxs("span",{className:"text-gray-800 text-base",children:[" ",(I=a==null?void 0:a.address)!=null&&I.length?(a==null?void 0:a.address)+",":"",(A=a==null?void 0:a.city)!=null&&A.length?(a==null?void 0:a.city)+",":"",",",a!=null&&a.state?(a==null?void 0:a.state)+",":"",",",(a==null?void 0:a.ZipCode)||""]})]}),s.jsxs("div",{children:[s.jsx("strong",{className:"font-semibold text-gray-700 text-base ",children:"Contact:"}),s.jsx("span",{className:"text-gray-800 text-base",children:a==null?void 0:a.contactNumber})]}),s.jsxs("div",{children:[s.jsx("strong",{className:"font-semibold text-gray-700 text-base ",children:"Email:"})," ",s.jsxs("span",{className:"text-gray-800 text-base",children:[" ",a==null?void 0:a.emailContact]})]}),s.jsx("div",{})]})]})]}),s.jsxs("div",{className:"flex   md:flex-row border-y-2 border-dashed border-[#F6C000] py-4 justify-between items-center mt-5 w-[100%]",children:[s.jsx("div",{className:" flex w-9/12",children:s.jsxs("div",{className:" flex flex-row flex-wrap gap-3 w-full ",children:[s.jsxs("div",{className:"font-semibold text-gray-700 text-base ",children:["Patient:"," ",s.jsx("span",{className:"text-gray-900  ",children:((P=d==null?void 0:d.firstName)==null?void 0:P.charAt(0).toUpperCase())+((F=d==null?void 0:d.firstName)==null?void 0:F.slice(1))+" "+((O=d==null?void 0:d.lastName)==null?void 0:O.charAt(0).toUpperCase())||""+(($=d==null?void 0:d.lastName)==null?void 0:$.slice(1))||""})]}),s.jsxs("div",{className:"font-semibold text-gray-700 text-base ",children:["Gender:"," ",s.jsx("span",{className:"text-gray-900  ",children:d==null?void 0:d.gender})]}),s.jsxs("div",{className:"font-semibold text-gray-700 text-base ",children:["Blood Group:"," ",s.jsx("span",{className:"text-gray-900  ",children:d==null?void 0:d.bloodGroup})]}),s.jsxs("div",{className:"font-semibold text-gray-700 text-base",children:["Age:"," ",s.jsxs("span",{className:"text-gray-900  ",children:[d==null?void 0:d.age," Yrs"]})]})]})}),s.jsx("div",{className:"flex w-3/12",children:s.jsxs("div",{className:" flex flex-row flex-wrap gap-3",children:[s.jsxs("div",{className:"text-gray-700 text-base font-semibold ",children:["Date:"," ",s.jsx("span",{className:"text-gray-800 ",children:(T=t==null?void 0:t.createdAt)==null?void 0:T.split("T")[0]})]}),s.jsxs("div",{className:"text-gray-700 font-semibold text-base",children:["Time:",s.jsx("span",{className:"text-gray-800 ",children:t!=null&&t.createdAt?xs(t==null?void 0:t.createdAt):""})]})]})})]}),s.jsxs("div",{className:"flex   md:flex-row justify-between",children:[m&&e&&((E=Object.keys(e))==null?void 0:E.length)>0?s.jsxs("div",{className:"flex flex-col border-r mt-5  md:block mx-9  border-[#F6C000] border-dashed  ",children:[(L=e==null?void 0:e.cheifComplaints)!=null&&L.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lightBtntext text-xl font-bold mb-3",children:"Chief Complaints"}),s.jsx("ul",{className:" text-gray-700 px-5 text-base list-disc",children:Object.keys(e).length>0&&((M=e==null?void 0:e.cheifComplaints)==null?void 0:M.map((l,n)=>{var r,i;return s.jsxs("li",{children:[s.jsxs("span",{className:"font-bold",children:[...(r=l==null?void 0:l.complaints)==null?void 0:r.map(c=>c==null?void 0:c.compId.complaintName)]})," in relation to"," ",s.jsxs("span",{className:"font-bold",children:[...(i=l==null?void 0:l.tooth)==null?void 0:i.join(",")]})]},n)}))}),s.jsx("div",{className:"border-b my-8"})]}):"",(R=e==null?void 0:e.clinicalFindings)!=null&&R.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lightBtntext text-xl font-bold mb-3",children:"On Examination"}),s.jsx("ul",{className:"px-5 text-gray-700 text-base list-disc",children:s.jsx("span",{className:"font-bold",children:Object.keys(e).length>0&&((G=e==null?void 0:e.clinicalFindings)==null?void 0:G.map(l=>{var n,r;return s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:(n=l==null?void 0:l.findings)==null?void 0:n.map(i=>{var c;return(c=i==null?void 0:i.findId)==null?void 0:c.findingsName})})," in relation to"," ",s.jsx("span",{className:"font-bold",children:(r=l==null?void 0:l.tooth)==null?void 0:r.join(",")})]})}))})}),s.jsx("div",{className:"border-b my-8"})]}):"",(U=e==null?void 0:e.services)!=null&&U.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lightBtntext text-xl font-bold mb-3",children:"Diagnosis"}),s.jsx("ul",{className:"px-5 text-gray-700 text-base list-disc",children:s.jsx("span",{className:"font-bold",children:Object.keys(e).length>0&&((_=e==null?void 0:e.services)==null?void 0:_.map(l=>{var n;return s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:l==null?void 0:l.service.serviceName})," in relation to"," ",s.jsx("span",{className:"font-bold",children:(n=l==null?void 0:l.tooth)==null?void 0:n.join(",")})]})}))})}),s.jsx("div",{className:"border-b my-8"})]}):"",(q=e==null?void 0:e.procedures)!=null&&q.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lightBtntext text-xl font-bold mb-3",children:"Proposed Treatment Plan"}),s.jsx("ul",{className:"px-5 text-gray-700 text-base list-disc",children:s.jsx("span",{className:"font-bold",children:Object.keys(e).length>0&&((z=e==null?void 0:e.procedures)==null?void 0:z.map(l=>{var n,r;return s.jsxs("li",{children:[s.jsx("span",{className:"font-bold",children:(n=l==null?void 0:l.procedure)==null?void 0:n.map(i=>{var c;return(c=i==null?void 0:i.procedId)==null?void 0:c.procedureName})})," in relation to"," ",s.jsx("span",{className:"font-bold",children:(r=l==null?void 0:l.tooth)==null?void 0:r.join(",")})]})}))})}),s.jsx("div",{className:"border-b my-8"})]}):"",(H=e==null?void 0:e.investigation)!=null&&H.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lightBtntext text-xl font-bold mb-3",children:"Investigation"}),s.jsx("ul",{className:"px-5 text-gray-700 text-base list-disc",children:Object.keys(e).length>0&&((Q=e==null?void 0:e.investigation)==null?void 0:Q.map(l=>s.jsx("li",{children:s.jsx("span",{className:"font-bold",children:l.fileType})})))})]}):""]}):"",s.jsxs("div",{className:"relative pt-5 mb-13 flex-grow  xl:w-3/4 md:w-3/5 w-full",children:[s.jsx("div",{className:"flex w-full justify-between",children:s.jsx("div",{className:"text-lightBtntext text-xl font-bold mb-5",children:"Medicine (Rx)"})}),(V=t==null?void 0:t.additionalAdvice)!=null&&V.length?s.jsx("div",{className:"bg-lightBgBtn bg-opacity-80 text-gray-700 text-base font-semibold px-4 py-2 mb-8 rounded",children:t==null?void 0:t.additionalAdvice}):"",(Y=t==null?void 0:t.drugArray)==null?void 0:Y.map((l,n)=>s.jsx("div",{className:"  mb-6",children:s.jsx(is,{medicine:l,position:n})})),s.jsx("div",{})]})]})]})})]})})}export{ms as default};
