import{r as g,u as fr,b as jr,a as wr,c as St,V as j,j as e,Z as F,H as R,D as H,A as bt,B as It,_ as C,$ as mt,W as z,a0 as ut,a1 as ft,a2 as we,a3 as jt,a4 as wt,a5 as Nr,a6 as vr,a7 as kr,a8 as Bt,a9 as yr}from"./index-Bp26y0Cv.js";import{L as Cr}from"./index-yhx5pXTX.js";import{T as Sr,C as Ir,a as Br,F as Tr,b as _r,D as Lr,M as Ar,c as Fr,d as Hr,P as Or}from"./DiagnosisDropdown-DxMR8PQu.js";const Ye=["UR","UL","BL","BR","Full Jaw","11","12","13","14","15","16","17","18","21","22","23","24","25","26","27","28","31","32","33","34","35","36","37","38","41","42","43","44","45","46","47","48"],Nt=[{value:"iopa",label:"IOPA"},{value:"x-ray",label:"X-Ray"},{value:"prescription",label:"Prescription"},{value:"medicalReport",label:"Medical Report"},{value:"testScanReport",label:"Test Scan Report"},{value:"bloodTestReport",label:"Blood Test Report"}];function Vr({noFade:B,scrollContent:Ur}){const[Tt,Ne]=g.useState(!1),[_t,ve]=g.useState(null),ne=fr(),w=jr(),vt=wr(),{patientDetail:s,hasData:Mr}=St(t=>t==null?void 0:t.currentPatientSlice),{caseSheetData:r,hasCaseSheet:Lt}=St(t=>t==null?void 0:t.caseSheetSlice);console.log("caseData edit page",r);const[ae,ke]=g.useState([]),[W,ye]=g.useState([]),[I,oe]=g.useState([]);console.log("cheifComplaintDataArray",I);const[D,m]=g.useState({cheifComplaintLoading:!1,findingLoading:!1,diagnosisLoading:!1,medicalHistoryLoading:!1,investigationLoading:!1,servicesLoading:!1,procedureLoading:!1,otherAttachmentLoading:!1,notesLoading:!1});async function At(t){var d,c,l,i,p,b,f,u;if(t.preventDefault(),m(n=>({...n,cheifComplaintLoading:!0})),(W==null?void 0:W.length)==0||(ae==null?void 0:ae.length)==0){C.error("please select data from dropdown"),m(n=>({...n,cheifComplaintLoading:!1}));return}try{const n=ae.map(a=>({compId:a==null?void 0:a._id}));if(I&&(I==null?void 0:I.length)>0){const a=I.map(x=>{var y;const N=(y=x==null?void 0:x.complaints)==null?void 0:y.map(k=>{var M;return{compId:(M=k==null?void 0:k.compId)==null?void 0:M._id}});return{tooth:x==null?void 0:x.tooth,complaints:N}}),h={tooth:[...W],complaints:[...n]};let o={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){console.log("111111"),o={...o,caseSheetId:r==null?void 0:r._id,cheifComplaints:[h,...a]};const x=await j.updateCaseCheifComplaint(o);oe((c=(d=x==null?void 0:x.data)==null?void 0:d.data)==null?void 0:c.cheifComplaints),m(N=>({...N,cheifComplaintLoading:!1})),ye([]),ke([]),w(mt())}else{console.log("222222");const x={tooth:[...W],complaints:[...n]};o={...o,caseSheetId:r==null?void 0:r._id,cheifComplaints:[x]}}}else{console.log("333333");let a={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){console.log("444444");const h={tooth:[...W],complaints:[...n]};a={...a,caseSheetId:r==null?void 0:r._id,cheifComplaints:[h]};const o=await j.updateCaseCheifComplaint(a);oe((i=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:i.cheifComplaints),m(x=>({...x,cheifComplaintLoading:!1})),ye([]),ke([]),w(mt())}else{console.log("55555");const h={tooth:[...W],complaints:[...n]};a={...a,cheifComplaints:[h]};const o=await j.createCaseCheifComplaint(a);oe((b=(p=o==null?void 0:o.data)==null?void 0:p.data)==null?void 0:b.cheifComplaints),w(z((u=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:u.caseSheets)),m(x=>({...x,cheifComplaintLoading:!1})),ye([]),ke([]),w(mt())}}}catch(n){console.log("6666"),m(a=>({...a,notesLoading:!1})),console.log("error while creating case cheif complaint",n)}}async function Ft(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,cheifComplaintId:t},i=await j.deleteCaseCheifComplaint(l);oe((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.cheifComplaints),console.log("response delete cheif",i)}catch(l){console.log("error while deleting the cheif complaint",l)}}const[kt,Ce]=g.useState([]),[P,Se]=g.useState([]),[T,le]=g.useState([]);async function Ht(t){var d,c,l,i,p,b,f,u;if(t.preventDefault(),m(n=>({...n,findingLoading:!0})),(P==null?void 0:P.length)==0||(P==null?void 0:P.length)==0){C.error("please select data from dropdown"),m(n=>({...n,findingLoading:!1}));return}try{const n=kt.map(a=>({findId:a==null?void 0:a._id}));if(T&&(T==null?void 0:T.length)>0){const a=T.map(x=>{var y;const N=(y=x==null?void 0:x.findings)==null?void 0:y.map(k=>{var M;return{findId:(M=k==null?void 0:k.findId)==null?void 0:M._id}});return{tooth:x==null?void 0:x.tooth,findings:N}}),h={tooth:[...P],findings:[...n]};let o={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){o={...o,caseSheetId:r==null?void 0:r._id,clinicalFindings:[h,...a]};const x=await j.updateCaseClinicalFinding(o);le((c=(d=x==null?void 0:x.data)==null?void 0:d.data)==null?void 0:c.clinicalFindings),m(N=>({...N,findingLoading:!1})),Se([]),Ce([]),w(ut())}else{const x={tooth:[...P],findings:[...n]};o={...o,caseSheetId:r==null?void 0:r._id,clinicalFindings:[x]}}}else{let a={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){const h={tooth:[...P],findings:[...n]};a={...a,caseSheetId:r==null?void 0:r._id,clinicalFindings:[h]},console.log("dataObject update 2",a);const o=await j.updateCaseClinicalFinding(a);le((i=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:i.clinicalFindings),m(x=>({...x,findingLoading:!1})),Se([]),Ce([]),w(ut())}else{const h={tooth:[...P],findings:[...n]};a={...a,clinicalFindings:[h]};const o=await j.createCaseClinicalFinding(a);le((b=(p=o==null?void 0:o.data)==null?void 0:p.data)==null?void 0:b.clinicalFindings),w(z((u=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:u.caseSheets)),m(x=>({...x,findingLoading:!1})),Se([]),Ce([]),w(ut())}}}catch(n){m(a=>({...a,notesLoading:!1})),console.log("error while creating case cheif complaint",n)}}async function Ot(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,clinicalFindingId:t},i=await j.deleteCaseClinicalFinding(l);le((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.clinicalFindings)}catch(l){console.log("error while deleting the cheif complaint",l)}}const[yt,Ie]=g.useState([]),[E,Be]=g.useState([]),[_,de]=g.useState([]);async function Ut(t){var d,c,l,i,p,b,f,u;if(t.preventDefault(),m(n=>({...n,diagnosisLoading:!0})),(E==null?void 0:E.length)==0||(E==null?void 0:E.length)==0){C.error("please select data from dropdown"),m(n=>({...n,diagnosisLoading:!1}));return}try{const n=yt.map(a=>({findId:a==null?void 0:a._id}));if(_&&(_==null?void 0:_.length)>0){const a=_.map(x=>{var y;const N=(y=x==null?void 0:x.findings)==null?void 0:y.map(k=>{var M;return{findId:(M=k==null?void 0:k.findId)==null?void 0:M._id}});return{tooth:x==null?void 0:x.tooth,findings:N}}),h={tooth:[...E],findings:[...n]};let o={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){o={...o,caseSheetId:r==null?void 0:r._id,diagnosis:[h,...a]};const x=await j.updateCaseDiagnosis(o);de((c=(d=x==null?void 0:x.data)==null?void 0:d.data)==null?void 0:c.diagnosis),m(N=>({...N,diagnosisLoading:!1})),Be([]),Ie([]),w(ft())}else{const x={tooth:[...E],findings:[...n]};o={...o,caseSheetId:r==null?void 0:r._id,diagnosis:[x]}}}else{let a={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){const h={tooth:[...E],findings:[...n]};a={...a,caseSheetId:r==null?void 0:r._id,diagnosis:[h]},console.log("dataObject update 2",a);const o=await j.updateCaseDiagnosis(a);de((i=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:i.diagnosis),m(x=>({...x,diagnosisLoading:!1})),Be([]),Ie([]),w(ft())}else{const h={tooth:[...E],findings:[...n]};a={...a,diagnosis:[h]};const o=await j.createCaseDiagnosis(a);de((b=(p=o==null?void 0:o.data)==null?void 0:p.data)==null?void 0:b.diagnosis),w(z((u=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:u.caseSheets)),m(x=>({...x,diagnosisLoading:!1})),Be([]),Ie([]),w(ft())}}}catch(n){m(a=>({...a,diagnosisLoading:!1})),console.log("error while creating case diagnosis",n)}}async function Mt(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,diagnosisId:t},i=await j.deleteCaseDiagnosis(l);de((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.diagnosis)}catch(l){console.log("error while deleting diagnosis",l)}}const[v,ie]=g.useState([]),[et,Rt]=g.useState([]),[tt,ce]=g.useState([]),[V,Pt]=g.useState([]),[q,Te]=g.useState(""),[_e,Le]=g.useState(""),[K,Ae]=g.useState(""),[G,Fe]=g.useState(""),[Q,xe]=g.useState(""),[X,He]=g.useState(""),[Oe,he]=g.useState("");async function Et(t){var d,c,l,i,p,b,f,u;if(t.preventDefault(),m(n=>({...n,servicesLoading:!0})),(V==null?void 0:V.length)==0||(V==null?void 0:V.length)==0){C.error("please select data from dropdown"),m(n=>({...n,servicesLoading:!1}));return}if(!q){C.error("please select department"),m(n=>({...n,servicesLoading:!1}));return}if(!_e){C.error("please select service"),m(n=>({...n,servicesLoading:!1}));return}if(!K||!G){C.error("please enter rate and quaintity"),m(n=>({...n,servicesLoading:!1}));return}try{if(v&&(v==null?void 0:v.length)>0){const n=v.map(o=>{var x,N,y,k;return{department:{deptId:(N=(x=o==null?void 0:o.department)==null?void 0:x.deptId)==null?void 0:N._id},service:{servId:(k=(y=o==null?void 0:o.service)==null?void 0:y.servId)==null?void 0:k._id},tooth:o==null?void 0:o.tooth,rate:o==null?void 0:o.rate,quaintity:o==null?void 0:o.quaintity,subTotal:o==null?void 0:o.subTotal,discount:o==null?void 0:o.discount,grantTotal:o==null?void 0:o.grantTotal}}),a={tooth:[...V],department:{deptId:q},service:{servId:_e},rate:Number(K),quaintity:Number(G),subTotal:Number(Q),discount:Number(X),grantTotal:Number(Oe)};let h={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){h={...h,caseSheetId:r==null?void 0:r._id,services:[a,...n]};const o=await j.updateCaseService(h);ie((c=(d=o==null?void 0:o.data)==null?void 0:d.data)==null?void 0:c.services),w(we()),m(x=>({...x,servicesLoading:!1})),Te(""),Le(""),Ae(""),Fe(""),xe(""),He(""),he(""),ce([])}}else{let n={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){const a={tooth:[...V],department:{deptId:q},service:{servId:_e},rate:Number(K),quaintity:Number(G),subTotal:Number(Q),discount:Number(X),grantTotal:Number(Oe)};n={...n,services:[a],caseSheetId:r==null?void 0:r._id};const h=await j.updateCaseService(n);ie((i=(l=h==null?void 0:h.data)==null?void 0:l.data)==null?void 0:i.services),w(we()),m(o=>({...o,servicesLoading:!1})),Te(""),Le(""),Ae(""),Fe(""),xe(""),He(""),he(""),ce([])}else{const a={tooth:[...V],department:{deptId:q},service:{servId:_e},rate:Number(K),quaintity:Number(G),subTotal:Number(Q),discount:Number(X),grantTotal:Number(Oe)};n={...n,services:[a]};const h=await j.createCaseService(n);ie((b=(p=h==null?void 0:h.data)==null?void 0:p.data)==null?void 0:b.services),w(z((u=(f=h==null?void 0:h.data)==null?void 0:f.data)==null?void 0:u.caseSheets)),w(we()),m(o=>({...o,servicesLoading:!1})),Te(""),Le(""),Ae(""),Fe(""),xe(""),He(""),he(""),ce([])}}}catch(n){m(a=>({...a,notesLoading:!1})),console.log("error while creating case service",n)}}async function Dt(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,serviceId:t},i=await j.deleteCaseService(l);ie((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.services)}catch(l){console.log("error while deleting service",l)}}const Ue=t=>{const c=t.target.value.replace(/[^6-9\d]/g,"");c.trim()!==""?t.target.value=c:t.target.value=""};function Vt(t){const{name:d,value:c}=t.target;d=="deptName"&&Te(c)}function $t(t){const{name:d,value:c}=t.target;d=="serviceName"&&Le(c)}g.useEffect(()=>{if(q){t(q);async function t(d){var c,l;try{const i=await j.getServiceUnderDepartment(d);if(i!=null&&i.services&&((c=i==null?void 0:i.services)==null?void 0:c.length)>0){const p=(l=i==null?void 0:i.services)==null?void 0:l.map(b=>({serviceName:b==null?void 0:b.serviceName,_id:b==null?void 0:b._id}));ce(p)}else ce([])}catch{console.log("error in getting service list")}}}},[q]),g.useEffect(()=>{async function t(d){var c,l;try{const i=await j.getActiveDepartment();if(i!=null&&i.result&&((c=i==null?void 0:i.result)==null?void 0:c.length)>0){const p=(l=i==null?void 0:i.result)==null?void 0:l.map(b=>({deptName:b==null?void 0:b.deptName,_id:b==null?void 0:b._id}));Rt(p)}}catch(i){console.log("error in getting active department",i)}}t()},[]),g.useEffect(()=>{xe(K&&G?K*G:0)},[K,G]),g.useEffect(()=>{he(Q&&X?Q-X:Q)},[Q,X]);const[zt,Ct]=g.useState([]),[Me,qt]=g.useState([]),[Kt,Gt]=g.useState([]),[J,Re]=g.useState([]),[Pe,Qt]=g.useState(()=>new Date().toISOString().split("T")[0]),Jt=t=>{Qt(t.target.value)},Wt=t=>{const d=new Date(t),c={day:"2-digit",month:"short",year:"numeric"};return d.toLocaleDateString("en-GB",c)},[se,rt]=g.useState(""),[Xt,st]=g.useState(""),[$,Ee]=g.useState([]),[L,De]=g.useState([]);function Zt(t){const{name:d,value:c}=t.target;if(d=="comingService"){const l=Me.find(i=>(i==null?void 0:i.mainId)==c);rt(l==null?void 0:l._id),st(c),Gt(l==null?void 0:l.tooth),Re([]),Ee([]),w(jt())}}async function Yt(t){var d,c,l,i;if(t.preventDefault(),m(p=>({...p,procedureLoading:!0})),!se){C.error("please select service"),m(p=>({...p,procedureLoading:!1}));return}if((J==null?void 0:J.length)==0||(J==null?void 0:J.length)==0){C.error("please select tooth from dropdown"),m(p=>({...p,procedureLoading:!1}));return}if(($==null?void 0:$.length)==0){C.error("please select procedure"),m(p=>({...p,procedureLoading:!1}));return}try{if(L&&(L==null?void 0:L.length)>0){const p=L.map(n=>{var h,o,x;const a=(h=n==null?void 0:n.procedure)==null?void 0:h.map(N=>{var y;return{procedId:(y=N==null?void 0:N.procedId)==null?void 0:y._id}});return{service:{servId:(x=(o=n==null?void 0:n.service)==null?void 0:o.servId)==null?void 0:x._id},tooth:n==null?void 0:n.tooth,prposedTime:n==null?void 0:n.prposedTime,procedure:a}}),b=$==null?void 0:$.map(n=>({procedId:n==null?void 0:n._id})),f={tooth:[...J],service:{servId:se},procedure:b,prposedTime:Pe};let u={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){u={...u,caseSheetId:r==null?void 0:r._id,procedures:[f,...p]};const n=await j.updateCaseProcedure(u);De((c=(d=n==null?void 0:n.data)==null?void 0:d.data)==null?void 0:c.procedures),w(we()),w(jt()),m(a=>({...a,procedureLoading:!1})),rt(""),st(""),Re([]),Ee([])}}else{let p={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){const b=$==null?void 0:$.map(n=>({procedId:n==null?void 0:n._id})),f={tooth:[...J],service:{servId:se},procedure:b,prposedTime:Pe};p={...p,procedures:[f],caseSheetId:r==null?void 0:r._id};const u=await j.updateCaseProcedure(p);De((i=(l=u==null?void 0:u.data)==null?void 0:l.data)==null?void 0:i.procedures),w(we()),w(jt()),m(n=>({...n,procedureLoading:!1})),rt(""),st(""),Re([]),Ee([])}}}catch(p){m(b=>({...b,procedureLoading:!1})),console.log("error while creating case procedure",p)}}async function er(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,procedureId:t},i=await j.deleteCaseProcedure(l);De((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.procedures)}catch(l){console.log("error while deleting procedure",l)}}g.useEffect(()=>{if(se){async function t(d){var c;try{const l=await j.getProcedureUnderService(d);if(l!=null&&l.result&&(l==null?void 0:l.result.length)>0){const i=(c=l==null?void 0:l.result)==null?void 0:c.map(p=>({_id:p==null?void 0:p._id,procedureName:p==null?void 0:p.procedureName}));Ct(i)}else Ct([])}catch(l){console.log("error in getting the procedure under service",l)}}t(se)}},[se]),g.useEffect(()=>{if(v&&(v==null?void 0:v.length)>0){const t=v.map(d=>{var c,l,i,p;return{serviceName:(l=(c=d==null?void 0:d.service)==null?void 0:c.servId)==null?void 0:l.serviceName,_id:(p=(i=d==null?void 0:d.service)==null?void 0:i.servId)==null?void 0:p._id,tooth:d==null?void 0:d.tooth,mainId:d==null?void 0:d._id}});t&&(t==null?void 0:t.length)>0&&qt(t)}},[v]);const[pe,Ve]=g.useState([]),[A,ge]=g.useState([]),[be,$e]=g.useState("");async function tr(t){var d,c,l,i,p,b,f,u;if(t.preventDefault(),m(n=>({...n,medicalHistoryLoading:!0})),(pe==null?void 0:pe.length)==0){C.error("please select data from dropdown"),m(n=>({...n,medicalHistoryLoading:!1}));return}try{const n=pe.map(a=>({medId:a==null?void 0:a._id}));if(A&&(A==null?void 0:A.length)>0){const a=A.map(x=>{var y;return{medicals:(y=x==null?void 0:x.medicals)==null?void 0:y.map(k=>{var M;return{medId:(M=k==null?void 0:k.medId)==null?void 0:M._id}}),reading:x==null?void 0:x.reading}}),h={medicals:[...n],reading:be};let o={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){o={...o,caseSheetId:r==null?void 0:r._id,medicalHistory:[h,...a]};const x=await j.updateCaseMedicalHistory(o);ge((c=(d=x==null?void 0:x.data)==null?void 0:d.data)==null?void 0:c.medicalHistory),m(N=>({...N,medicalHistoryLoading:!1})),Ve([]),$e(""),w(wt())}else{const x={medicals:[...n],reading:be};o={...o,caseSheetId:r==null?void 0:r._id,medicalHistory:[x]}}}else{let a={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){const h={medicals:[...n],reading:be};a={...a,caseSheetId:r==null?void 0:r._id,medicalHistory:[h]};const o=await j.updateCaseMedicalHistory(a);ge((i=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:i.medicalHistory),m(x=>({...x,medicalHistoryLoading:!1})),Ve([]),$e(""),w(wt())}else{const h={medicals:[...n],reading:be};a={...a,medicalHistory:[h]};const o=await j.createCaseMedicalHistory(a);ge((b=(p=o==null?void 0:o.data)==null?void 0:p.data)==null?void 0:b.medicalHistory),w(z((u=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:u.caseSheets)),m(x=>({...x,medicalHistoryLoading:!1})),Ve([]),$e(""),w(wt())}}}catch(n){m(a=>({...a,notesLoading:!1})),console.log("error while creating medical",n)}}async function rr(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,medicalHistoryId:t},i=await j.deleteCaseMedicalHistory(l);ge((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.medicalHistory)}catch(l){console.log("error while deleting medical history",l)}}const[S,me]=g.useState([]),[Z,ze]=g.useState("");async function sr(t){var d,c,l,i,p,b,f,u;if(t.preventDefault(),m(n=>({...n,notesLoading:!0})),(Z==null?void 0:Z.length)==0){C.error("please enter remark..."),m(n=>({...n,notesLoading:!1}));return}try{if(S&&(S==null?void 0:S.length)>0){const n=S.map(o=>({noteDescription:o==null?void 0:o.noteDescription})),a={noteDescription:Z};let h={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){h={...h,caseSheetId:r==null?void 0:r._id,note:[a,...n]};const o=await j.updateCaseNote(h);ze(""),me((c=(d=o==null?void 0:o.data)==null?void 0:d.data)==null?void 0:c.note),m(x=>({...x,notesLoading:!1}))}}else{const n=S.map(o=>({noteDescription:o==null?void 0:o.noteDescription})),a={noteDescription:Z};let h={patientId:s==null?void 0:s._id,branchId:s==null?void 0:s.branch,businessUnitId:s==null?void 0:s.businessUnit};if(r&&(r!=null&&r._id)){h={...h,caseSheetId:r==null?void 0:r._id,note:[a,...n]};const o=await j.updateCaseNote(h);console.log("response",o),ze(""),me((i=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:i.note),m(x=>({...x,notesLoading:!1}))}else{h={...h,note:[{noteDescription:Z}]};const x=await j.createCaseNote(h);ze(""),me((b=(p=x==null?void 0:x.data)==null?void 0:p.data)==null?void 0:b.note),w(z((u=(f=x==null?void 0:x.data)==null?void 0:f.data)==null?void 0:u.caseSheets)),m(N=>({...N,notesLoading:!1}))}}}catch(n){m(a=>({...a,notesLoading:!1})),console.log("error while creating medical",n)}}async function nr(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,noteId:t},i=await j.deleteCaseNote(l);me((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.note)}catch(l){console.log("error while deleting note",l)}}const[Y,qe]=g.useState(""),[ar,nt]=g.useState(""),[at,Ke]=g.useState(null),[ee,Ge]=g.useState(null),[O,ue]=g.useState([]),or=t=>{let d=0,c=0;const l=t.target.files[0];if(l&&(d=l.size/(1024*1024),l.name.match(/\.(jpg|jpeg|png|gif)$/i)||(nt("Only image files are allowed (jpg, jpeg, png, gif)"),c++),d>1&&(nt("File size must be less than 1MB"),c++),c===0)){const i=URL.createObjectURL(l);Ge(l),Ke(i),nt("")}};async function lr(t){var d,c,l,i,p,b,f,u;if(t.preventDefault(),m(n=>({...n,otherAttachmentLoading:!0})),(Y==null?void 0:Y.length)==0){C.error("please enter remark..."),m(n=>({...n,otherAttachmentLoading:!1}));return}if(!ee){C.error("please select file"),m(n=>({...n,otherAttachmentLoading:!1}));return}try{if(O&&(O==null?void 0:O.length)>0){if(r&&(r!=null&&r._id)){const n=localStorage.getItem("KOSMO_client_clientId"),a=new FormData;ee&&a.append("file",ee),a.append("remark",Y),a.append("patientId",s==null?void 0:s._id),a.append("branchId",s==null?void 0:s.branch),a.append("businessUnitId",s==null?void 0:s.businessUnit),a.append("clientId",n),a.append("caseSheetId",r==null?void 0:r._id);const h=await j.updateCaseOtherAttachment(a);m(o=>({...o,otherAttachmentLoading:!1})),qe(""),Ge(null),Ke(null),ue((c=(d=h==null?void 0:h.data)==null?void 0:d.data)==null?void 0:c.otherAttachment)}}else if(r&&(r!=null&&r._id)){const n=localStorage.getItem("KOSMO_client_clientId"),a=new FormData;ee&&a.append("file",ee),a.append("remark",Y),a.append("patientId",s==null?void 0:s._id),a.append("branchId",s==null?void 0:s.branch),a.append("businessUnitId",s==null?void 0:s.businessUnit),a.append("clientId",n),a.append("caseSheetId",r==null?void 0:r._id);const h=await j.updateCaseOtherAttachment(a);m(o=>({...o,otherAttachmentLoading:!1})),qe(""),Ge(null),Ke(null),ue((i=(l=h==null?void 0:h.data)==null?void 0:l.data)==null?void 0:i.otherAttachment)}else{const n=localStorage.getItem("KOSMO_client_clientId"),a=new FormData;ee&&a.append("file",ee),a.append("remark",Y),a.append("patientId",s==null?void 0:s._id),a.append("branchId",s==null?void 0:s.branch),a.append("businessUnitId",s==null?void 0:s.businessUnit),a.append("clientId",n);const h=await j.createCaseOtherAttachment(a);qe(""),Ge(null),Ke(null),ue((b=(p=h==null?void 0:h.data)==null?void 0:p.data)==null?void 0:b.otherAttachment),w(z((u=(f=h==null?void 0:h.data)==null?void 0:f.data)==null?void 0:u.caseSheets)),m(o=>({...o,otherAttachmentLoading:!1}))}}catch(n){console.log("error while creating medical",n)}}async function dr(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,otherAttachmentId:t},i=await j.deleteCaseOtherAttachment(l);ue((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.otherAttachment)}catch(l){console.log("error while deleting note",l)}}const[te,Qe]=g.useState(""),[fe,Je]=g.useState(""),[U,je]=g.useState([]),[ir,ot]=g.useState(""),[lt,We]=g.useState(null),[re,Xe]=g.useState(null);function cr(t){const{name:d,value:c}=t.target;d=="fileType"&&Je(c)}const xr=t=>{let d=0,c=0;const l=t.target.files[0];if(l&&(d=l.size/(1024*1024),l.name.match(/\.(jpg|jpeg|png|gif)$/i)||(ot("Only image files are allowed (jpg, jpeg, png, gif)"),c++),d>1&&(ot("File size must be less than 1MB"),c++),c===0)){const i=URL.createObjectURL(l);Xe(l),We(i),ot("")}};async function hr(t){var d,c,l,i,p,b,f,u;if(t.preventDefault(),m(n=>({...n,investigationLoading:!0})),(te==null?void 0:te.length)==0){C.error("please enter remark..."),m(n=>({...n,investigationLoading:!1}));return}if(!fe){C.error("please select file type"),m(n=>({...n,investigationLoading:!1}));return}if(!re){C.error("please select file"),m(n=>({...n,investigationLoading:!1}));return}try{if(U&&(U==null?void 0:U.length)>0){if(r&&(r!=null&&r._id)){const n=localStorage.getItem("KOSMO_client_clientId"),a=new FormData;re&&a.append("file",re),a.append("remark",te),a.append("fileType",fe),a.append("patientId",s==null?void 0:s._id),a.append("branchId",s==null?void 0:s.branch),a.append("businessUnitId",s==null?void 0:s.businessUnit),a.append("clientId",n),a.append("caseSheetId",r==null?void 0:r._id);const h=await j.updateCaseInvestigation(a);m(o=>({...o,investigationLoading:!1})),Qe(""),Je(""),Xe(null),We(null),je((c=(d=h==null?void 0:h.data)==null?void 0:d.data)==null?void 0:c.investigation)}}else if(r&&(r!=null&&r._id)){const n=localStorage.getItem("KOSMO_client_clientId"),a=new FormData;re&&a.append("file",re),a.append("remark",te),a.append("fileType",fe),a.append("patientId",s==null?void 0:s._id),a.append("branchId",s==null?void 0:s.branch),a.append("businessUnitId",s==null?void 0:s.businessUnit),a.append("clientId",n),a.append("caseSheetId",r==null?void 0:r._id);const h=await j.updateCaseInvestigation(a);m(o=>({...o,investigationLoading:!1})),Qe(""),Je(""),Xe(null),We(null),je((i=(l=h==null?void 0:h.data)==null?void 0:l.data)==null?void 0:i.investigation)}else{const n=localStorage.getItem("KOSMO_client_clientId"),a=new FormData;re&&a.append("file",re),a.append("remark",te),a.append("fileType",fe),a.append("patientId",s==null?void 0:s._id),a.append("branchId",s==null?void 0:s.branch),a.append("businessUnitId",s==null?void 0:s.businessUnit),a.append("clientId",n);const h=await j.createCaseInvestigation(a);m(o=>({...o,investigationLoading:!1})),Qe(""),Je(""),Xe(null),We(null),je((b=(p=h==null?void 0:h.data)==null?void 0:p.data)==null?void 0:b.investigation),w(z((u=(f=h==null?void 0:h.data)==null?void 0:f.data)==null?void 0:u.caseSheets))}}catch(n){m(a=>({...a,investigationLoading:!1})),console.log("error while creating investigation",n)}}async function pr(t){var d,c;try{const l={caseSheetId:r==null?void 0:r._id,investigationId:t},i=await j.deleteCaseInvestigation(l);je((c=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:c.investigation)}catch(l){console.log("error while deleting note",l)}}g.useState(!1);const[gr,Rr]=g.useState([]);console.log("newData",gr);const[br,dt]=g.useState(!1);async function mr(){try{dt(!0);const t=await j.getParticularCaseSheet(r==null?void 0:r._id);w(z(t==null?void 0:t.data)),dt(!1),vt("/patientDetail/treatment")}catch(t){dt(!1),console.log("error while getting the treatment plan",t)}}g.useEffect(()=>{if(r&&Lt){const t=r==null?void 0:r.cheifComplaints,d=r==null?void 0:r.clinicalFindings,c=r==null?void 0:r.diagnosis,l=r==null?void 0:r.medicalHistory,i=r==null?void 0:r.note,p=r==null?void 0:r.otherAttachment,b=r==null?void 0:r.investigation,f=r==null?void 0:r.services,u=r==null?void 0:r.procedures;oe(t),le(d),de(c),ge(l),me(i),ue(p),je(b),ie(f),De(u)}},[r]);const it=g.useRef(),Ze=g.useRef(),ct=g.useRef(),xt=g.useRef(),ht=g.useRef(),pt=g.useRef(),gt=g.useRef(),ur=[{id:1,content:"Chief Complaints",icon:e.jsx(Nr,{className:"text-darkSecondary h-4 w-4"}),action:()=>{it.current&&it.current.scrollIntoView({behavior:"smooth"})}},{id:2,content:"Clinical Findings",icon:e.jsx(vr,{className:"text-darkSecondary "}),action:()=>{Ze.current&&Ze.current.scrollIntoView({behavior:"smooth"})}},{id:3,content:"Medical History",icon:e.jsx(kr,{className:"text-darkSecondary "}),action:()=>{ct.current&&ct.current.scrollIntoView({behavior:"smooth"})}},{id:4,content:"Investigation",icon:e.jsx(Bt,{className:"text-darkSecondary text-xl"}),action:()=>{xt.current&&xt.current.scrollIntoView({behavior:"smooth"})}},{id:5,content:"Services",icon:e.jsx(yr,{className:"text-darkSecondary "}),action:()=>{ht.current&&ht.current.scrollIntoView({behavior:"smooth"})}},{id:6,content:"Other Attachments",icon:e.jsx(Bt,{className:"text-darkSecondary "}),action:()=>{pt.current&&pt.current.scrollIntoView({behavior:"smooth"})}},{id:7,content:"Notes",icon:e.jsx(Cr,{className:"text-darkSecondary h-4 w-4"}),action:()=>{gt.current&&gt.current.scrollIntoView({behavior:"smooth"})}}];return e.jsxs("div",{className:"md:container md:mx-auto px-4 py-2 w-full h-auto  rounded-lg border-[1px] border-lightBorderColor dark:border-darkSecondary",children:[e.jsxs("div",{className:"w-[100%] h-[95vh] flex gap-3 ",children:[e.jsx("div",{className:"w-[5%] py-2",children:e.jsx("ul",{className:"flex justify-center flex-col items-center h-auto gap-12",children:ur.map((t,d)=>e.jsx(F,{content:t.content,placement:"right",arrow:!0,animation:"shift-away",children:e.jsx("li",{onClick:t.action,className:"h-10 w-10 border border-dashed border-darkBtn bg-lightBgBtn dark:bg-darkBtn rounded-lg flex justify-center items-center",children:t==null?void 0:t.icon},d)}))})}),e.jsxs("div",{className:" w-[95%] overflow-auto",children:[e.jsx("div",{ref:it,className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3 shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Chief Complaints"})}),e.jsxs("div",{className:"flex gap-2 px-4",children:[e.jsx("div",{className:"w-[30%]",children:e.jsx(Sr,{options:Ye,setSelectedComTooth:ye})}),e.jsxs("div",{className:"w-[70%]",children:[e.jsxs("p",{className:"font-medium mb-2",children:["Complaints ",e.jsx("span",{className:"text-red-900",children:"*"})]}),e.jsx(Ir,{selectedComplaint:ae,setSelectedComplaint:ke})]})]}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:At,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.cheifComplaintLoading})})}),I&&(I==null?void 0:I.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Tooth"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Complaints"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:I&&I.length>0?I.map((t,d)=>{var b;const l=(t==null?void 0:t.tooth).join(", "),p=((b=t==null?void 0:t.complaints)==null?void 0:b.map(f=>{var n;const u=f;return(n=u==null?void 0:u.compId)==null?void 0:n.complaintName})).join(", ");return e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap text-start text-sm font-medium text-tableTextColor dark:text-white",children:l}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:p}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-tableTextColor",children:e.jsx("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>Ft(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})})})]},d)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})}),e.jsx("div",{ref:Ze,className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3 shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Clinical Findings"})}),e.jsxs("div",{className:"flex gap-2 px-4",children:[e.jsx("div",{className:"w-[30%]",children:e.jsx(Br,{options:Ye,setSelectedComTooth:Se})}),e.jsxs("div",{className:"w-[70%]",children:[e.jsxs("p",{className:"font-medium mb-2",children:["Findings ",e.jsx("span",{className:"text-red-900",children:"*"})]}),e.jsx(Tr,{selectedFinding:kt,setSelectedFinding:Ce})]})]}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:Ht,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.findingLoading})})}),T&&(T==null?void 0:T.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Tooth"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Findings"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:T&&T.length>0?T.map((t,d)=>{var b;const l=(t==null?void 0:t.tooth).join(", "),p=((b=t==null?void 0:t.findings)==null?void 0:b.map(f=>{var n;const u=f;return(n=u==null?void 0:u.findId)==null?void 0:n.findingsName})).join(", ");return e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap text-start text-sm font-medium text-tableTextColor dark:text-white",children:l}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:p}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-tableTextColor",children:e.jsx("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>Ot(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})})})]},d)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})}),e.jsx("div",{ref:Ze,className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3 shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Diagnosis"})}),e.jsxs("div",{className:"flex gap-2 px-4",children:[e.jsx("div",{className:"w-[30%]",children:e.jsx(_r,{options:Ye,setSelectedComTooth:Be})}),e.jsxs("div",{className:"w-[70%]",children:[e.jsxs("p",{className:"font-medium mb-2",children:["Diagnosis ",e.jsx("span",{className:"text-red-900",children:"*"})]}),e.jsx(Lr,{selectedFinding:yt,setSelectedFinding:Ie})]})]}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:Ut,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.diagnosisLoading})})}),_&&(_==null?void 0:_.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full mb-4 ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start  text-xs font-semibold  tracking-wider",children:"Tooth"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Diagnosis"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:_&&_.length>0?_.map((t,d)=>{var b;const l=(t==null?void 0:t.tooth).join(", "),p=((b=t==null?void 0:t.findings)==null?void 0:b.map(f=>{var n;const u=f;return(n=u==null?void 0:u.findId)==null?void 0:n.findingsName})).join(", ");return e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap text-start text-sm font-medium text-tableTextColor dark:text-white",children:l}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:p}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor",children:e.jsx("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>Mt(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})})})]},d)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})}),e.jsx("div",{ref:ct,className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3 shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Medical History"})}),e.jsx("div",{className:"flex gap-2 px-4",children:e.jsx("div",{className:"w-[100%]",children:e.jsxs("div",{className:"grid gap-2 grid-cols-1 md:grid-cols-2",children:[e.jsxs("div",{className:" mt-5",children:[e.jsx("label",{children:e.jsx("p",{className:"mb-1  dark:text-white text-black",children:"Medical History"})}),e.jsx(Ar,{selectedFinding:pe,setSelectedFinding:Ve})]}),e.jsxs("div",{className:" mt-5",children:[e.jsx("label",{children:e.jsx("p",{className:"mb-1  dark:text-white text-black",children:"Reading"})}),e.jsx("textarea",{className:" form-control outline-none w-[100%] rounded-md px-4 py-2 border border-lightborderInputColor text-lightinputTextColor dark:border-darkSecondary dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white ",placeholder:"Enter here...",value:be,rows:1,onChange:t=>$e(t.target.value)})]})]})})}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:tr,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.medicalHistoryLoading})})}),A&&(A==null?void 0:A.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Medical History"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Reading"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:A&&A.length>0?A.map((t,d)=>{var i;const l=((i=t==null?void 0:t.medicals)==null?void 0:i.map(p=>{var f;const b=p;return(f=b==null?void 0:b.medId)==null?void 0:f.caseName})).join(", ");return e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:l}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t.reading}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-tableTextColor",children:e.jsx("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>rr(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})})})]},d)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})}),e.jsx("div",{ref:xt,className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3 shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Investigation"})}),e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"w-[100%]",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[e.jsxs("div",{className:"px-4 md:col-span-2",children:[e.jsx("label",{className:" text-base px-2 font-medium mb-2",children:e.jsx("p",{className:`mb-1 ${ne?"text-white":"text-black"}`,children:"Upload File"})}),e.jsxs("label",{htmlFor:"profileImage2",className:"flex flex-col cursor-pointer  relative border border-dashed border-lightHoverBgBtn dark:border-darkBtn bg-lightBgBtn dark:bg-darkAccent rounded-lg py-4  text-center",children:[e.jsx("label",{htmlFor:"profileImage2",className:"text-primary cursor-pointer",children:e.jsxs("div",{className:"",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"click to upload."}),e.jsx("label",{htmlFor:"profileImage2",className:"text-sm text-gray-500 cursor-pointer",children:"(Allowed .jpg, .png less than 1MB)"})]})}),e.jsx("input",{id:"profileImage2",type:"file",className:"hidden",accept:"image/*",onChange:t=>{xr(t)}}),e.jsx("span",{style:{color:"red",fontSize:"0.7em"},children:e.jsx("p",{className:"text-red-600 text-xs pt-6 ",children:ir})})]}),lt?e.jsx("div",{className:" flex justify-center mt-3 px-2 py-2 border border-dashed border-lightHoverBgBtn dark:border-gray-600 ",children:e.jsx("img",{src:lt||"",className:"w-20 h-20  object-cover  border-[#ffffff] ",alt:""})}):""]}),e.jsxs("div",{className:"px-4 mt-5",children:[e.jsx("label",{children:e.jsx("p",{className:`mb-1 ${ne?"text-white":"text-black"}`,children:"File Type"})}),e.jsxs("select",{onChange:cr,name:"fileType",value:fe,className:"form-control outline-none w-[100%] rounded-md px-4 py-2.5 border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white",children:[e.jsx("option",{value:"",children:" Select File type "}),Nt&&Nt.length>0&&Nt.map((t,d)=>e.jsx("option",{className:"hover:text-info",value:t.label,children:t.label},d))]})]}),e.jsxs("div",{className:"px-4 mt-5",children:[e.jsx("label",{children:e.jsx("p",{className:`mb-1 ${ne?"text-white":"text-black"}`,children:"Remarks"})}),e.jsx("textarea",{className:" form-control outline-none w-[100%] rounded-md px-4 py-2 border border-lightborderInputColor text-lightinputTextColor dark:border-darkSecondary dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white ",placeholder:"Enter here...",value:te,rows:1,onChange:t=>Qe(t.target.value)})]})]})})}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:hr,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.investigationLoading})})}),U&&(U==null?void 0:U.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"File Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"File Type"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Remark"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:U&&U.length>0?U.map((t,d)=>e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap text-start text-sm font-medium text-tableTextColor dark:text-white",children:t==null?void 0:t.file}),e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap text-start text-sm font-medium text-tableTextColor dark:text-white",children:t==null?void 0:t.fileType}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t==null?void 0:t.remark}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-tableTextColor",children:e.jsxs("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:[e.jsx(F,{content:"View",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>{ve(`http://localhost:8089/investigation/${t==null?void 0:t.file}`),Ne(!0)},children:e.jsx(H,{icon:"heroicons:eye"})})}),e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>pr(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})]})})]},d)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})}),e.jsx("div",{ref:ht,className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3  shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Services"})}),e.jsx("div",{className:"overflow-x-auto overflow-y-hidden",children:e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:" px-4  w-1/6  font-medium text-start",children:"Tooth"}),e.jsx("th",{className:" px-4  w-1/6  font-medium text-start",children:"Department"}),e.jsx("th",{className:" px-4  w-1/6  font-medium text-start",children:"Service"}),e.jsx("th",{className:" px-4  w-1/6  font-medium text-start",children:"Rate"}),e.jsx("th",{className:" px-4  w-1/6  font-medium text-start",children:"Qty"}),e.jsx("th",{className:" px-4 w-1/6  font-medium text-start",children:"Sub Total"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 w-1/6  relative",children:e.jsx("div",{className:"w-44 ",children:e.jsx(Fr,{options:Ye,setSelectedComTooth:Pt})})}),e.jsx("td",{className:" px-3 w-1/6 h-16 text-start",children:e.jsxs("select",{onChange:Vt,name:"deptName",value:q,className:"form-control w-44 outline-none  rounded-md px-4 py-2.5 border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white",children:[e.jsx("option",{}),et&&et.length>0&&et.map((t,d)=>e.jsx("option",{className:"hover:text-info",value:t._id,children:t.deptName},t==null?void 0:t._id))]})}),e.jsx("td",{className:"px-3 w-1/6 h-16 text-center",children:e.jsxs("select",{onChange:$t,name:"serviceName",className:"form-control w-44 outline-none  rounded-md px-4 py-2.5 border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white",children:[e.jsx("option",{}),tt&&tt.length>0&&tt.map((t,d)=>e.jsx("option",{className:"hover:text-info",value:t._id,children:t.serviceName},t==null?void 0:t._id))]})}),e.jsx("td",{className:"px-3 w-1/6 h-16 text-start",children:e.jsx("input",{name:"rate",type:"text",value:K,onInput:Ue,onChange:t=>Ae(t.target.value),placeholder:"0.00",className:"form-control outline-none w-40  rounded-md px-4 py-2 text-end border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white"})}),e.jsx("td",{className:"px-3 w-1/6 h-16 text-start",children:e.jsx("input",{name:"quaintity",value:G,onInput:Ue,onChange:t=>Fe(t.target.value),type:"text",placeholder:"0.00",className:"form-control outline-none  w-48 rounded-md px-4 py-2 text-end border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white"})}),e.jsx("td",{className:"px-3 w-1/6 h-16 text-start",children:e.jsx("input",{name:"subTotal",value:Q,type:"text",disabled:!0,placeholder:"0.00",className:"form-control outline-none w-44  rounded-md px-4 py-2 text-end border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white"})})]})}),e.jsxs("tfoot",{children:[e.jsxs("tr",{className:"align-top",children:[e.jsx("td",{colSpan:"4",className:"pr-4 py-2 w-1/6 h-16 text-end ",children:"Discount:"}),e.jsx("td",{colSpan:"2",className:"px-6 w-1/6 h-16 text-end ",children:e.jsx("input",{name:"discount",type:"text",value:X,onInput:Ue,onChange:t=>He(t.target.value),placeholder:"0.00",className:"form-control outline-none w-96  rounded-md px-4 py-2 text-end border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white"})})]}),e.jsxs("tr",{className:"align-top",children:[e.jsx("td",{colSpan:"4",className:"pr-4 py-2 w-1/6 h-16 text-end font-semibold ",children:"Grand Total:"}),e.jsx("td",{colSpan:"2",className:"px-6 w-1/6 h-16 text-end ",children:e.jsx("input",{name:"grandTotal",type:"text",value:Oe,onInput:Ue,disabled:!0,placeholder:"0.00",className:"form-control outline-none w-96  rounded-md px-4 py-2 text-end border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white"})})]})]})]})}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:Et,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn   hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.servicesLoading})})}),v&&(v==null?void 0:v.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Tooth"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Department"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Rate"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Quantity"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Subtotal"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Discount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Grand Total"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:v&&v.length>0?[...v].reverse().map((t,d)=>{var i,p,b,f;const l=(t==null?void 0:t.tooth).join(", ");return e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap text-start text-sm font-medium text-tableTextColor dark:text-white",children:l}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:(p=(i=t==null?void 0:t.department)==null?void 0:i.deptId)==null?void 0:p.deptName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:(f=(b=t==null?void 0:t.service)==null?void 0:b.servId)==null?void 0:f.serviceName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t==null?void 0:t.rate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t==null?void 0:t.quaintity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t==null?void 0:t.subTotal}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t==null?void 0:t.discount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t==null?void 0:t.grantTotal}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-tableTextColor",children:e.jsx("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>Dt(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})})})]},d)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})}),v&&(v==null?void 0:v.length)>0?e.jsx("div",{className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3  shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Procedures"})}),e.jsx("div",{className:"",children:e.jsxs("table",{className:"min-w-full h-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:" px-4  w-3/12  font-medium text-start",children:"Service"}),e.jsx("th",{className:" px-4  w-3/12  font-medium text-start",children:"Tooth"}),e.jsx("th",{className:" px-4  w-3/12  font-medium text-start",children:"Proposed Date"}),e.jsx("th",{className:" px-4   w-3/12  font-medium text-start",children:"Procedure"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:" px-3 w-3/12  text-start",children:e.jsxs("select",{onChange:Zt,name:"comingService",value:Xt,className:"form-control w-[100%] outline-none  rounded-md px-4 py-2.5 border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white",children:[e.jsx("option",{value:""}),Me&&Me.length>0&&Me.map((t,d)=>e.jsx("option",{className:"hover:text-info",value:t.mainId,children:t.serviceName},t==null?void 0:t._id))]})}),e.jsx("td",{className:"px-3 w-3/12 relative",children:e.jsx(Hr,{options:Kt,setSelectedComTooth:Re})}),e.jsx("td",{className:" w-3/12 relative",children:e.jsx("input",{type:"date",value:Pe,className:" form-control w-[100%] outline-none  rounded-md px-4 py-2.5 border border-lightborderInputColor dark:border-darkSecondary text-lightinputTextColor dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white",onChange:Jt,min:Pe})}),e.jsx("td",{className:"px-3 w-3/12 ",children:e.jsx(Or,{options:zt,setSelectedComTooth:Ee})})]})})]})}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:Yt,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn   hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.procedureLoading})})}),L&&(L==null?void 0:L.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Tooth"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Proposed Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Procedure"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:L&&L.length>0?[...L].reverse().map((t,d)=>{var b,f,u;const l=((b=t==null?void 0:t.procedure)==null?void 0:b.map(n=>{var a;return(a=n==null?void 0:n.procedId)==null?void 0:a.procedureName})).join(", ");console.log("item proc",l);const p=(t==null?void 0:t.tooth).join(", ");return e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap text-start text-sm font-medium text-tableTextColor dark:text-white",children:p}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:(u=(f=t==null?void 0:t.service)==null?void 0:f.servId)==null?void 0:u.serviceName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:Wt(t==null?void 0:t.prposedTime)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:l}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-tableTextColor",children:e.jsx("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>er(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})})})]},d)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})}):"",e.jsx("div",{ref:pt,className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3 shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Other Attachments"})}),e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"w-[100%]",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2",children:[e.jsxs("div",{className:"px-4",children:[e.jsx("label",{htmlFor:"profileImage1",className:"block text-base px-2 font-medium mb-2",children:e.jsx("p",{className:`mb-1 ${ne?"text-white":"text-black"}`,children:"Upload File"})}),e.jsxs("label",{htmlFor:"profileImage1",className:"flex flex-col cursor-pointer  relative border border-dashed border-lightHoverBgBtn dark:border-darkBtn bg-lightBgBtn dark:bg-darkAccent rounded-lg py-4  text-center",children:[e.jsx("label",{htmlFor:"profileImage1",className:"text-primary cursor-pointer",children:e.jsxs("div",{className:"",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"click to upload."}),e.jsx("label",{htmlFor:"profileImage1",className:"text-sm text-gray-500 cursor-pointer",children:"(Allowed .jpg, .png less than 1MB)"})]})}),e.jsx("input",{id:"profileImage1",type:"file",className:"hidden",accept:"image/*",onChange:t=>{or(t)}}),e.jsx("span",{style:{color:"red",fontSize:"0.7em"},children:e.jsx("p",{className:"text-red-600 text-xs pt-6 ",children:ar})})]}),at?e.jsx("div",{className:"flex justify-center mt-3 px-2 py-2 border border-dashed border-lightHoverBgBtn dark:border-gray-600 ",children:e.jsx("img",{src:at||"",className:" w-20 h-20  object-cover  border-[#ffffff] ",alt:""})}):""]}),e.jsxs("div",{className:"px-4",children:[e.jsx("label",{children:e.jsx("p",{className:`mb-1 ${ne?"text-white":"text-black"}`,children:"Remarks"})}),e.jsx("textarea",{className:" form-control outline-none w-[100%] rounded-md px-4 py-2 border border-lightborderInputColor text-lightinputTextColor dark:border-darkSecondary dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white ",placeholder:"Enter here...",value:Y,onChange:t=>qe(t.target.value),rows:3})]})]})})}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:lr,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.otherAttachmentLoading})})}),O&&(O==null?void 0:O.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"File Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Remark"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:O&&O.length>0?O.map((t,d)=>e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap text-start text-sm font-medium text-tableTextColor dark:text-white",children:t==null?void 0:t.file}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t==null?void 0:t.remark}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-tableTextColor",children:e.jsxs("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:[e.jsx(F,{content:"View",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>{ve(`http://localhost:8089/investigation/${t==null?void 0:t.file}`),Ne(!0)},children:e.jsx(H,{icon:"heroicons:eye"})})}),e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>dr(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})]})})]},d)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})}),e.jsx("div",{ref:gt,className:"md:container md:mx-auto px-0 md:px-1 pb-5 dark:bg-darkAccent rounded-b-3xl bg-contentBg",children:e.jsxs("div",{className:"flex flex-col border-[1px] dark:border-darkSecondary border-lightBorderColor rounded-lg md:mx-auto px-0 md:px-3 shadow-sm",children:[e.jsx("div",{className:"py-5 px-3",children:e.jsx("h2",{className:"text-2xl font-semibold text-lightTextHeading",children:"Notes"})}),e.jsx("div",{className:"flex ",children:e.jsx("div",{className:"w-[100%]",children:e.jsxs("div",{className:"px-4",children:[e.jsx("label",{children:e.jsx("p",{className:"font-medium mb-2",children:"Remark"})}),e.jsx("textarea",{className:" form-control outline-none w-[100%]  rounded-md px-4 py-2 border border-lightborderInputColor text-lightinputTextColor dark:border-darkSecondary dark:placeholder-darkPlaceholder bg-lightBgInputColor dark:bg-darkIconAndSearchBg dark:text-white ",placeholder:"Enter here...",value:Z,rows:2,onChange:t=>ze(t.target.value)})]})})}),e.jsx("div",{className:"flex flex-wrap items-center px-6 pb-4",children:e.jsx("div",{className:"w-full text-right",children:e.jsx(R,{text:"Submit & Add More",onClick:sr,className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",isLoading:D.notesLoading})})}),S&&(S==null?void 0:S.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full ",children:[e.jsx("thead",{className:"bg-[#C9FEFF] dark:bg-darkBtn dark:text-white sticky top-0",children:e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-semibold  tracking-wider",children:"Notes"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-semibold  tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-darkAccent",children:S&&(S==null?void 0:S.length)>0?S.map((t,d)=>(console.log("item note",t==null?void 0:t.noteDescription),e.jsxs("tr",{className:"border-b border-dashed border-lighttableBorderColor",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-start text-sm text-tableTextColor dark:text-white",children:t==null?void 0:t.noteDescription}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-tableTextColor",children:e.jsx("div",{className:"flex justify-end text-lg space-x-5 rtl:space-x-reverse",children:e.jsx(F,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>nr(t==null?void 0:t._id),children:e.jsx(H,{icon:"heroicons:trash"})})})})})]},d))):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-lg font-medium text-lightModalHeaderColor",children:"NO DATA FOUND"})})})]})}):""]})})]})]}),e.jsx("div",{className:"px-4 py-3 flex justify-end space-x-3 border-t border-slate-100 dark:border-darkSecondary",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{text:"Cancel",className:"btn btn-sm bg-lightmodalBgBtn hover:bg-lightmodalBgBtnHover mt-1 md:mt-2 px-4 py-2 rounded text-lightmodalbtnText hover:text-white",onClick:()=>vt("/patientDetail/overview")}),e.jsx(R,{text:"Resume Treatment",className:"btn btn-sm dark:bg-darkBtn dark:text-white dark:hover:bg-darkBtnHover bg-lightBgBtn hover:bg-lightHoverBgBtn mt-1 md:mt-2 px-4 py-2 rounded text-lightBtntext hover:text-white",onClick:()=>mr(),isLoading:br})]})}),e.jsx(bt,{appear:!0,show:Tt,as:g.Fragment,children:e.jsxs(It,{as:"div",className:"relative z-[99999]",onClose:()=>{ve(null),Ne(!1)},children:[e.jsx(bt.Child,{as:g.Fragment,enter:B?"":"duration-300 ease-out",enterFrom:B?"":"opacity-0",enterTo:B?"":"opacity-100",leave:B?"":"duration-200 ease-in",leaveFrom:B?"":"opacity-100",leaveTo:B?"":"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-filter backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:`flex min-h-full justify-center text-center p-6 items-center "
                                    }`,children:e.jsx(bt.Child,{as:g.Fragment,enter:B?"":"duration-300  ease-out",enterFrom:B?"":"opacity-0 scale-95",enterTo:B?"":"opacity-100 scale-100",leave:B?"":"duration-200 ease-in",leaveFrom:B?"":"opacity-100 scale-100",leaveTo:B?"":"opacity-0 scale-95",children:e.jsxs(It.Panel,{className:`w-full transform overflow-hidden rounded-md
                                       bg-white dark:bg-darkAccent text-left align-middle shadow-xl transition-alll max-w-4xl`,children:[e.jsxs("div",{className:"relative overflow-hidden py-4 px-5 text-lightModalHeaderColor flex justify-between bg-white border-b border-lightBorderColor dark:bg-darkSecondary dark:border-b dark:border-darkSecondary ",children:[e.jsx("h2",{className:"capitalize leading-6 tracking-wider  text-xl font-semibold text-lightModalHeaderColor dark:text-darkTitleColor",children:"View Detail"}),e.jsx("button",{onClick:()=>{ve(null),Ne(!1)},className:" text-lightmodalCrosscolor hover:text-lightmodalbtnText text-[22px]",children:e.jsx(H,{icon:"heroicons-outline:x"})})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:_t,className:"h-[100%] w-[100%]",alt:"uploded img"})})]})})})})]})})]})}export{Vr as default};
